<!DOCTYPE html>
<html lang="km">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 New Year Countdown</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bungee&family=Kantumruy+Pro:wght@400;700&family=Pacifico&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: #05050a;
            color: white;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: 'Kantumruy Pro', sans-serif;
            overflow: hidden;
            position: relative;
        }
        canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        #stars {
            background: radial-gradient(circle at center, #1a0a1a 0%, #05050a 100%);
        }
        #fireworks {
            z-index: 1;
        }
        .content {
            position: relative;
            z-index: 10;
            text-align: center;
            padding: 20px;
        }
        .year {
            font-family: 'Bungee', cursive;
            font-size: clamp(4rem, 20vw, 12rem);
            background: linear-gradient(90deg, #ff0080, #ffd700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 0.8;
        }
        .year-2025 { animation: pulse 2s infinite; }
        .year-2026 { font-size: clamp(2rem, 10vw, 6rem); opacity: 0.3; margin-top: 1rem; }
        .year-2026.active { font-size: clamp(4rem, 20vw, 12rem); opacity: 1; }
        @keyframes pulse { 
            0%, 100% { opacity: 1; } 
            50% { opacity: 0.8; } 
        }
        .progress {
            margin: 2rem 0;
            width: min(600px, 90%);
        }
        .progress-bar {
            height: 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 5px;
            overflow: hidden;
        }
        #progress {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #ff0080, #ffd700);
            transition: width 0.5s;
        }
        .percent {
            font-family: 'Bungee', cursive;
            font-size: clamp(1.2rem, 4vw, 2rem);
            margin-bottom: 0.5rem;
        }
        .clock {
            font-family: 'Bungee', cursive;
            font-size: clamp(2rem, 8vw, 5rem);
            margin: 1rem 0;
            letter-spacing: 2px;
        }
        .title {
            font-family: 'Kantumruy Pro', sans-serif;
            font-size: clamp(1.5rem, 5vw, 3rem);
            margin-top: 1rem;
            background: linear-gradient(to right, #ff0080, #ff85a2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        #message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-family: 'Pacifico', cursive;
            font-size: clamp(2rem, 6vw, 4rem);
            color: #ff0080;
            opacity: 0;
            transition: opacity 2s;
            z-index: 20;
            text-align: center;
        }
        #message.show { opacity: 1; }
    </style>
</head>
<body>
    <canvas id="stars"></canvas>
    <canvas id="fireworks"></canvas>
    
    <div id="message" class="message">Big Family ❤️</div>
    
    <div class="content">
        <div class="year year-2025" id="year2025">2025</div>
        <div class="year year-2026" id="year2026">2026</div>
        
        <div class="progress">
            <div class="percent" id="percent">0.0000000%</div>
            <div class="progress-bar">
                <div id="progress"></div>
            </div>
        </div>
        
        <div class="clock" id="clock">00:00:00</div>
        <div class="title">សួស្តីឆ្នាំថ្មីគ្រួសារធំ</div>
        <div style="margin-top: 1rem; opacity: 0.8; font-size: 1rem;">រាប់ថយក្រោយទៅកាន់ឆ្នាំ ២០២៦</div>
    </div>
    
    <script>
        // Initialize canvases
        const starsCanvas = document.getElementById('stars');
        const fireworksCanvas = document.getElementById('fireworks');
        const starsCtx = starsCanvas.getContext('2d');
        const fireworksCtx = fireworksCanvas.getContext('2d');
        
        // Resize canvases
        function resize() {
            starsCanvas.width = fireworksCanvas.width = window.innerWidth;
            starsCanvas.height = fireworksCanvas.height = window.innerHeight;
            drawStars();
        }
        
        // Draw stars
        function drawStars() {
            starsCtx.fillStyle = '#05050a';
            starsCtx.fillRect(0, 0, starsCanvas.width, starsCanvas.height);
            
            // Draw gradient
            const gradient = starsCtx.createRadialGradient(
                starsCanvas.width/2, starsCanvas.height/2, 0,
                starsCanvas.width/2, starsCanvas.height/2, Math.max(starsCanvas.width, starsCanvas.height)/2
            );
            gradient.addColorStop(0, '#1a0a1a');
            gradient.addColorStop(1, '#05050a');
            starsCtx.fillStyle = gradient;
            starsCtx.fillRect(0, 0, starsCanvas.width, starsCanvas.height);
            
            // Draw 100 stars
            for(let i = 0; i < 100; i++) {
                const x = Math.random() * starsCanvas.width;
                const y = Math.random() * starsCanvas.height;
                const radius = Math.random() * 1.5;
                const opacity = Math.random() * 0.5 + 0.5;
                
                starsCtx.beginPath();
                starsCtx.arc(x, y, radius, 0, Math.PI * 2);
                starsCtx.fillStyle = `rgba(255, 255, 255, ${opacity})`;
                starsCtx.fill();
            }
        }
        
        // Simple fireworks
        let particles = [];
        function createFirework() {
            fireworksCtx.clearRect(0, 0, fireworksCanvas.width, fireworksCanvas.height);
            
            // Occasionally add new firework
            if(Math.random() < 0.05) {
                const x = Math.random() * fireworksCanvas.width;
                const y = fireworksCanvas.height;
                const color = Math.random() > 0.5 ? '#ff0080' : '#ffd700';
                
                for(let i = 0; i < 30; i++) {
                    particles.push({
                        x: x,
                        y: y,
                        vx: (Math.random() - 0.5) * 4,
                        vy: -(Math.random() * 3 + 2),
                        color: color,
                        alpha: 1,
                        size: Math.random() * 2 + 1
                    });
                }
            }
            
            // Update and draw particles
            particles = particles.filter(p => {
                p.x += p.vx;
                p.y += p.vy;
                p.vy += 0.1;
                p.alpha -= 0.02;
                
                if(p.alpha <= 0) return false;
                
                fireworksCtx.beginPath();
                fireworksCtx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                fireworksCtx.fillStyle = `rgba(${p.color === '#ff0080' ? '255,0,128' : '255,215,0'}, ${p.alpha})`;
                fireworksCtx.fill();
                return true;
            });
            
            requestAnimationFrame(createFirework);
        }
        
        // Countdown timer
        function updateTimer() {
            const now = new Date();
            
            // Update clock
            const time = now.toTimeString().split(' ')[0];
            document.getElementById('clock').textContent = time;
            
            // Calculate percentage to 2026
            const start2025 = new Date('2025-01-01T00:00:00').getTime();
            const start2026 = new Date('2026-01-01T00:00:00').getTime();
            const elapsed = now.getTime() - start2025;
            const total = start2026 - start2025;
            let percent = (elapsed / total) * 100;
            
            // Clamp to 0-100
            percent = Math.max(0, Math.min(100, percent));
            
            // Update display
            document.getElementById('percent').textContent = percent.toFixed(7) + '%';
            document.getElementById('progress').style.width = percent + '%';
            
            // Check if 2026 has arrived
            if(now.getFullYear() >= 2026 || percent >= 100) {
                document.getElementById('year2025').style.opacity = '0.2';
                document.getElementById('year2026').classList.add('active');
                document.getElementById('message').classList.add('show');
            }
            
            requestAnimationFrame(updateTimer);
        }
        
        // Initialize everything
        window.addEventListener('resize', resize);
        resize();
        createFirework();
        updateTimer();
        
        // Start with some fireworks
        setTimeout(() => {
            for(let i = 0; i < 3; i++) {
                setTimeout(() => {
                    const x = Math.random() * fireworksCanvas.width;
                    const y = fireworksCanvas.height;
                    const color = Math.random() > 0.5 ? '#ff0080' : '#ffd700';
                    
                    for(let j = 0; j < 50; j++) {
                        particles.push({
                            x: x,
                            y: y,
                            vx: (Math.random() - 0.5) * 6,
                            vy: -(Math.random() * 4 + 2),
                            color: color,
                            alpha: 1,
                            size: Math.random() * 2 + 1
                        });
                    }
                }, i * 500);
            }
        }, 1000);
    </script>
</body>
</html>
